import "file.csp";
import "io.csp";

macro PATH { "examples/assets/teset.txt" }

fn main(): i32 {
    using std;

    with f = file::open(PATH!, file::READ) {
        let buffer = file::read_all(f);
        io::puts(buffer);
        string::free(buffer);
    }
    else
        io::eprintf("%E `" PATH! "`\n");
    
    <- 0;
}