import "libc/stdio.csp";
import "utils.csp";

type LargeStruct: struct {
    a: i32,
    b: i64,
    c: i64
};

fn return_large_struct(b: ...): LargeStruct {
    printf("%d\n", va_arg!(b, i32));

    <- LargeStruct :: {
        0,
        "hi",
        0: i64
    };
}

fn main(): i32 {
    let ls = return_large_struct(1234567);    

    printf("ls:\n  .a = %d\n  .b = %s\n  .c = %ld\n", ls.a, ls.b, ls.c);

    <- 0;
}